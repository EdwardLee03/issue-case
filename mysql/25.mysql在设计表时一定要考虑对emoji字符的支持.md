

MySQL在设计表时一定要考虑对emoji字符的支持
==========================
> 2017-07-09


## utf8与utf8mb4的异同
MySQL在5.5.3之后增加了`utf8mb4`字符编码，mb4即most bytes 4。
简单说**utf8mb4是utf8的超集并完全兼容utf8**，能够用四个字节存储更多的字符。

但抛开数据库，**标准的UTF-8字符集编码是可以用1~4个字节去编码21位字符**，这几乎包含了是世界上所有能看见的语言了。
然而`在MySQL里实现的utf8最长使用3个字节`，也就是只支持到了Unicode中的基本多文本平面（U+0000至U+FFFF），
包含了控制符、拉丁文，中、日、韩等绝大多数国际字符，但`并不是所有`，
最常见的就算现在手机端常用的表情字符emoji和一些不常用的汉字，如 “墅” ，这些需要四个字节才能编码出来。

**解决方法是使用`utf8mb4`编码替换utf8。**


参考：[MySQL使用utf8mb4经验吐血总结](http://seanlook.com/2016/10/23/mysql-utf8mb4/)

